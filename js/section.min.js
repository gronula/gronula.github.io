"use strict";var mainNavLinkTimer,header=document.querySelector(".header"),logo=header.querySelector(".logo"),logoTitle=logo.querySelector(".logo__title"),search=header.querySelector(".search"),searchIcon=search.querySelector(".search__icon"),searchField=search.querySelector(".search__field"),searchSubmit=search.querySelector(".search__button"),navButton=header.querySelector(".main-nav__toggle"),mainNav=header.querySelector(".main-nav"),mainNavList=mainNav.querySelector(".main-nav__list"),siteNav=header.querySelector(".site-nav"),contacts=header.querySelector(".contacts"),citiesWrapper=contacts.querySelector(".contacts__cities-wrapper"),activeCity=citiesWrapper.querySelector(".contacts__active"),citiesList=citiesWrapper.querySelector(".contacts__cities"),citiesHeader=citiesList.querySelectorAll(".contacts__city"),main=document.querySelector(".main"),productsButton=main.querySelector(".products__button"),productsItems=main.querySelector(".products__items"),filter=main.querySelector(".filter"),filterButton=filter.querySelector(".filter__toggle"),filterHeadings=filter.querySelectorAll(".filter__heading"),filterBlocks=filter.querySelectorAll(".filter__block"),filterCaptions=filter.querySelectorAll(".filter__caption"),filterSelects=filter.querySelectorAll(".filter__select"),filterButtonsView=filter.querySelectorAll(".filter__view  .filter__button"),filterButtonsSort=filter.querySelectorAll(".filter__sort  .filter__button"),filterElements=filter.querySelectorAll(".filter__element"),filterLinksMore=filter.querySelectorAll(".filter__more"),sidebar=main.querySelector(".sidebar"),sidebarCatalogLink=sidebar.querySelector(".sidebar__link--catalog"),catalog=sidebar.querySelector(".catalog"),catalogHeader=catalog.querySelector(".catalog__header"),catalogTitle=catalog.querySelector(".catalog__title"),catalogButton=catalog.querySelector(".catalog__toggle"),catalogWrapper=catalog.querySelector(".catalog__wrapper"),catalogItems=catalog.querySelectorAll(".catalog__item"),catalogLinks=catalog.querySelectorAll(".catalog__link"),catalogNumbers=catalog.querySelectorAll(".catalog__number"),catalogSublists=catalog.querySelectorAll(".catalog__sublist"),recentlyViewed=main.querySelector(".recently-viewed"),recentlyViewedProducts=recentlyViewed.querySelector(".recently-viewed__products"),recentlyViewedItems=recentlyViewed.querySelectorAll(".recently-viewed  .item"),footer=document.querySelector(".footer"),citiesFooter=footer.querySelectorAll(".footer__city"),addressesFooter=footer.querySelectorAll(".footer__address"),searchFieldWidth=100,mainNavWidth=240,getScrollWidth=function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",e.style.visibility="hidden",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},navButtonClickHandler=function(){window.matchMedia("(max-width: 1023px)").matches&&(navButton.classList.contains("main-nav__toggle--closed")?(document.body.classList.add("no-scroll"),header.classList.add("header--fixed"),logo.classList.remove("logo--opened"),logo.classList.add("logo--closed"),search.classList.remove("search--closed"),mainNav.style.width="",mainNavList.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),navButton.classList.remove("main-nav__toggle--closed"),navButton.classList.add("main-nav__toggle--opened"),sidebar.classList.add("sidebar--closed")):(document.body.classList.remove("no-scroll"),header.classList.remove("header--fixed"),logo.classList.remove("logo--closed"),logo.classList.add("logo--opened"),search.classList.add("search--closed"),mainNavList.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),sidebar.classList.remove("sidebar--closed")))},searchFieldFocusHandler=function(){navButton.classList.contains("main-nav__toggle--opened")||mainNavList.classList.contains("main-nav__list--fixed")||siteNav.classList.contains("site-nav--closed")||(mainNav.style.transition="all 0.5s cubic-bezier(0.77, 0, 0.175, 1)",mainNav.style.width="",mainNav.classList.add("main-nav--closed"),searchField.removeEventListener("click",searchFieldFocusHandler),searchField.classList.remove("search__field--closed"),searchField.style.transition="all 0.5s cubic-bezier(0.77, 0, 0.175, 1)",searchField.style.width=searchFieldWidth+"px"),window.matchMedia("(max-width: 1023px)").matches||(searchIcon.classList.add("search__icon--opened"),searchField.placeholder="Поиск")},searchFieldBlurHandler=function(){window.matchMedia("(max-width: 1023px)").matches||(searchIcon.classList.remove("search__icon--opened"),searchField.placeholder="Поиск товаров и услуг",header.classList.contains("header--fixed")||(searchField.removeEventListener("click",searchFieldBlurHandler),searchField.classList.add("search__field--closed"),searchField.style.width="",mainNav.style.width=mainNavWidth+"px",mainNav.classList.remove("main-nav--closed")))},getSearchInputWidth=function(){0===pageYOffset?(mainNav.style.transition="",mainNav.style.width="",mainNavWidth=mainNav.getBoundingClientRect().width,mainNav.style.width=0,searchField.style.transition="",searchField.style.width="100%",searchFieldWidth=searchField.getBoundingClientRect().width,searchField.classList.add("search__field--closed"),searchField.style.width="",mainNav.style.width=mainNavWidth+"px",mainNav.classList.remove("main-nav--closed")):(mainNav.style.width="",searchField.style.width="")},mainNavLinkCatalogMouseoverHandler=function(){if(!window.matchMedia("(max-width: 1023px)").matches){window.removeEventListener("scroll",windowScrollHandler),offsetTop=pageYOffset,window.matchMedia("(max-width: 1687px)").matches?(header.style.left="",header.style.right=getScrollWidth()+"px"):(header.style.left=65<offsetTop?getScrollWidth()/-2+"px":"",header.style.right=65<offsetTop?getScrollWidth()/2+"px":getScrollWidth()+"px"),document.body.style.top=-offsetTop+"px",document.body.style.width="calc(100% - "+getScrollWidth()+"px)",document.body.classList.add("no-scroll"),mainNavOverlay.classList.remove("main-nav__overlay--out"),mainNavOverlay.classList.add("main-nav__overlay--hover");var e=mainNavLinkCatalog.getBoundingClientRect().left;sidebar.style.left=e+"px",sidebar.classList.remove("sidebar--out"),sidebar.classList.add("sidebar--hover"),mainNavLinkTimer&&(clearTimeout(mainNavLinkTimer),mainNavLinkTimer=null),mainNavOverlay.addEventListener("mouseover",mainNavOverlayMouseoverHandler),sidebar.addEventListener("mouseover",sidebarMouseoverHandler)}},mainNavOverlayMouseoverHandler=function(){document.body.style.top="",document.body.style.width="",document.body.classList.remove("no-scroll"),header.style.left="",header.style.right="",window.scroll(0,offsetTop),mainNavOverlay.classList.add("main-nav__overlay--out"),sidebar.classList.add("sidebar--out"),mainNavLinkCatalog.removeEventListener("mouseover",mainNavOverlayMouseoverHandler),window.addEventListener("scroll",windowScrollHandler),mainNavLinkTimer=setTimeout(function(){mainNavOverlay.classList.remove("main-nav__overlay--hover"),sidebar.classList.remove("sidebar--hover"),sidebar.removeEventListener("mouseover",sidebarMouseoverHandler)},500)},sidebarMouseoverHandler=function(){mainNavOverlay.classList.remove("main-nav__overlay--out"),mainNavOverlay.classList.add("main-nav__overlay--hover"),sidebar.classList.remove("sidebar--out"),sidebar.classList.add("sidebar--hover"),mainNavLinkTimer&&(clearTimeout(mainNavLinkTimer),mainNavLinkTimer=null)},mainNavLinkCatalog=mainNav.querySelector(".main-nav__link--catalog"),mainNavOverlay=mainNav.querySelector(".main-nav__overlay");mainNavLinkCatalog.addEventListener("mouseover",mainNavLinkCatalogMouseoverHandler);var targetLink,targetCatalogSublist,activeCityClickHandler=function(){activeCity.addEventListener("click",function(){citiesList.classList.toggle("contacts__cities--opened");for(var e=0;e<citiesHeader.length;e++)citiesHeader[e].addEventListener("click",citiesHeaderClickHandler,!0);document.addEventListener("click",citiesListCloseHandler,!0)})},citiesHeaderClickHandler=function(e){activeCity.textContent=e.target.textContent,citiesList.classList.remove("contacts__cities--opened"),citiesHeader.forEach(function(e){e.removeEventListener("click",citiesHeaderClickHandler,!0)})},citiesListCloseHandler=function(e){e.target.classList.contains("contacts__city")||(citiesList.classList.remove("contacts__cities--opened"),e.stopPropagation()),document.removeEventListener("click",citiesListCloseHandler,!0)},productsButtonClickHandler=function(){window.matchMedia("(max-width: 1023px)").matches&&(document.body.classList.add("no-scroll"),filter.classList.add("filter--opened"),sidebar.classList.add("sidebar--closed"),filterButton.addEventListener("click",filterButtonClickHandler))},filterButtonClickHandler=function(){document.body.classList.remove("no-scroll"),filter.classList.remove("filter--opened"),sidebar.classList.remove("sidebar--closed"),filterButton.removeEventListener("click",filterButtonClickHandler)},blockHeights=[],blockFullHeights=[],filterElementsHeights=[],getFilterElementsHeight=function(e){var t=e.querySelector(".filter__elements"),i=e.querySelector(".filter__more");t.style.transition="none",t.style.maxHeight="none",filterElementsHeights.push(t.getBoundingClientRect().height),t.getBoundingClientRect().height<240?i.style.display="none":i.style.display="",blockFullHeights.push(e.getBoundingClientRect().height),t.style.maxHeight="",t.style.transition=""},getFilterBlockHeight=function(){if(filter.classList.add("filter--opened"),window.matchMedia("(max-width: 1023px)").matches)var e=filter.querySelectorAll(".filter__heading"),t=filter.querySelectorAll(".filter__block");else e=filter.querySelectorAll(".filter__main  .filter__heading"),t=filter.querySelectorAll(".filter__main  .filter__block");filterHeadings.forEach(function(e){e.style.height="",e.removeEventListener("click",filterHeadingsClickHandler)}),filterBlocks.forEach(function(e){e.style.height=""});for(var i=0;i<e.length;i++)e[i].classList.remove("filter__heading--opened"),t[i].style.transition="none",t[i].style.height="",t[i].classList.add("filter__block--opened"),t[i].classList.contains("filter__block--elements")&&getFilterElementsHeight(t[i]),blockHeights[i]=t[i].getBoundingClientRect().height,t[i].classList.remove("filter__block--opened"),t[i].style.transition="",e[i].addEventListener("click",filterHeadingsClickHandler);e[0].classList.add("filter__heading--opened"),t[0].style.transition="none",t[0].classList.add("filter__block--opened"),t[0].style.height=blockHeights[0]+"px",t[0].style.transition="";var a=filter.querySelector(".filter__main"),s=a.querySelectorAll(".filter__select--inner");a.querySelectorAll(".filter__checkboxes").forEach(function(e,t){window.matchMedia("(max-width: 1023px)").matches||filter.classList.remove("filter--opened"),a.style.transition="none";var i=a.getBoundingClientRect().bottom;a.style.transition="",e.style.transition="none",e.classList.remove("filter__checkboxes--top"),s[t].classList.add("filter__select--opened");var l=e.getBoundingClientRect().bottom;s[t].classList.remove("filter__select--opened"),e.style.transition="",i<l?e.classList.add("filter__checkboxes--top"):e.classList.remove("filter__checkboxes--top")}),filter.classList.remove("filter--opened")},filterHeadingsClickHandler=function(e){var i,l=e.target,t=e.target.nextElementSibling,a=filter.querySelectorAll(".filter__elements"),s=filter.querySelectorAll(".filter__more");if(window.matchMedia("(max-width: 1023px)").matches)var o=filter.querySelectorAll(".filter__heading"),r=filter.querySelectorAll(".filter__block");else o=filter.querySelectorAll(".filter__main  .filter__heading"),r=filter.querySelectorAll(".filter__main  .filter__block");o.forEach(function(e,t){e===l&&(i=t)}),t.classList.contains("filter__block--opened")?(l.classList.remove("filter__heading--opened"),t.classList.remove("filter__block--opened"),t.style.height=0):(window.matchMedia("(max-width: 1023px)").matches?(o.forEach(function(e){e.classList.remove("filter__heading--opened")}),r.forEach(function(e){e.classList.remove("filter__block--opened"),e.style.height=0})):l.classList.contains("filter__heading--categories")||(o.forEach(function(e){e.classList.contains("filter__heading--categories")||e.classList.remove("filter__heading--opened")}),r.forEach(function(e){e.classList.contains("filter__block--categories")||(e.classList.remove("filter__block--opened"),e.style.height=0)})),l.classList.add("filter__heading--opened"),t.classList.add("filter__block--opened"),t.style.height=blockHeights[i]+"px"),s.forEach(function(e){e.textContent="Показать все"}),a.forEach(function(e){e.style.maxHeight="",e.classList.remove("filter__elements--full")})},filterCapionsClickHandler=function(e,t){e.addEventListener("click",function(e){t.classList.contains("filter__select--opened")?(t.classList.remove("filter__select--opened"),document.removeEventListener("click",filterSelectsCloseHandler)):(filterSelects.forEach(function(e){e.classList.remove("filter__select--opened")}),t.classList.add("filter__select--opened"),document.addEventListener("click",filterSelectsCloseHandler),e.target.parentElement.querySelectorAll(".filter__drop-down  .filter__label").forEach(function(e){e.addEventListener("click",dropDownItemClickHandler)}))})},filterSelectsCloseHandler=function(e){e.target.classList.contains("filter__caption")||e.target.classList.contains("filter__label")||e.target.classList.contains("filter__checkbox")||(main.querySelector(".filter__select--opened").classList.remove("filter__select--opened"),document.removeEventListener("click",filterSelectsCloseHandler))},dropDownItemClickHandler=function(e){e.preventDefault(),e.target.parentElement.parentElement.querySelectorAll(".filter__drop-down  .filter__label").forEach(function(e){e.removeEventListener("click",dropDownItemClickHandler)});var t=filter.querySelector(".filter__select--opened"),i=t.querySelector(".filter__choice");t.classList.remove("filter__select--opened"),i.textContent=e.target.textContent,document.removeEventListener("click",filterSelectsCloseHandler)},filterButtonViewClickHandler=function(t){t.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("filter__button--active")||(filterButtonsView.forEach(function(e){e.classList.remove("filter__button--active")}),e.target.classList.add("filter__button--active")),t.classList.contains("filter__button--grid")?(productsItems.classList.add("products__items--grid"),productsItems.classList.remove("products__items--row")):t.classList.contains("filter__button--row")&&(productsItems.classList.remove("products__items--grid"),productsItems.classList.add("products__items--row"))})},filterButtonSortClickHandler=function(e){e.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("filter__button--active")||(filterButtonsSort.forEach(function(e){e.classList.remove("filter__button--active")}),e.target.classList.add("filter__button--active"))})},filterElementClickHandler=function(t){t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("filter__element--selected")})},filterLinkMoreClickHandler=function(r){r.addEventListener("click",function(e){if(e.preventDefault(),window.matchMedia("(max-width: 1023px)").matches)var t=filter.querySelectorAll(".filter__block");else t=filter.querySelectorAll(".filter__main  .filter__block");var i,l,a=e.target.parentElement,s=e.target.previousElementSibling,o=filter.querySelectorAll(".filter__elements");t.forEach(function(e,t){e===a&&(i=t)}),o.forEach(function(e,t){e===s&&(l=t)}),s.classList.contains("filter__elements--full")?(r.textContent="Показать все",a.style.height=blockHeights[i]+"px",s.style.maxHeight="",s.classList.remove("filter__elements--full")):(r.textContent="Скрыть",a.style.height=blockFullHeights[l]+"px",s.style.maxHeight=filterElementsHeights[l]+"px",s.classList.add("filter__elements--full"))})},filterBlockChoice=filter.querySelector(".filter__block--choice"),filterSlider=filter.querySelector(".filter__slider"),filterBlockChoiceWidth=filterBlockChoice.getBoundingClientRect().width,filterSliderWidth=filterSlider.getBoundingClientRect().width,filterBlockChoiceRight=filterBlockChoice.getBoundingClientRect().right,filterSliderRight=filterSlider.getBoundingClientRect().right,animateFilterSlider=function(){window.matchMedia("(max-width: 1023px)").matches||filterBlockChoiceRight<filterSliderRight&&(filterSlider.addEventListener("click",filterSliderClickHandler),filterSlider.addEventListener("mousedown",filterSliderMousedownHandler),filterSlider.addEventListener("wheel",filterSliderWheelHandler))},isClick=!0,filterSliderClickHandler=function(e){window.matchMedia("(max-width: 1023px)").matches||isClick||e.preventDefault()},x=0,filterSliderMousedownHandler=function(e){if(!window.matchMedia("(max-width: 1023px)").matches){e.preventDefault(),filterBlockChoiceWidth=filterBlockChoice.getBoundingClientRect().width,filterSliderWidth=filterSlider.getBoundingClientRect().width,filterSlider.style.transition="none";var t={x:e.clientX},i=function(e){e.preventDefault(),filterSliderRight=filterSlider.getBoundingClientRect().right,filterBlockChoiceRight=filterBlockChoice.getBoundingClientRect().right,0<x?x-=.3*(t.x-e.x):filterSliderRight<filterBlockChoiceRight?(x-=.3*(t.x-e.x),filter.classList.add("filter--full")):(x-=t.x-e.x,filter.classList.remove("filter--full")),filterSlider.style.transform="translateX("+x+"px)",t={x:e.clientX}};isClick=!(isClick=!0);var l=function(e){e.preventDefault(),0<x?x=0:filterSliderRight<filterBlockChoiceRight&&(x=-filterSliderWidth+filterBlockChoiceWidth),filterSlider.style.transition="all 0.2s cubic-bezier(0.77, 0, 0.175, 1)",filterSlider.style.transform="translateX("+x+"px)",document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",l,!0)};filterSlider.addEventListener("click",filterSliderClickHandler),document.addEventListener("mousemove",i),document.addEventListener("mouseup",l,!0)}},filterSliderWheelHandler=function(e){window.matchMedia("(max-width: 1023px)").matches||(e.preventDefault(),filterBlockChoiceWidth=filterBlockChoice.getBoundingClientRect().width,filterSliderWidth=filterSlider.getBoundingClientRect().width,filterSliderRight=filterSlider.getBoundingClientRect().right,filterBlockChoiceRight=filter.getBoundingClientRect().right,e.deltaY<0?x-=40:x+=40,0<x?x=0:x<=-filterSliderWidth+filterBlockChoiceWidth?(x=-filterSliderWidth+filterBlockChoiceWidth,filter.classList.add("filter--full")):filter.classList.remove("filter--full"),filterSlider.style.transition="none",filterSlider.style.transform="translateX("+x+"px)")},offsetTop=0,sidebarCatalogLinkClickHandler=function(e){e.preventDefault(),offsetTop=pageYOffset,document.body.style.top=-offsetTop+"px",document.body.classList.add("no-scroll"),catalog.classList.add("catalog--opened");for(var t=0;t<catalogLinks.length;t++)1<catalogLinks[t].parentElement.childElementCount&&catalogLinks[t].addEventListener("click",catalogLinkClickHandler,!0);catalogButton.addEventListener("click",catalogButtonClickHandler)},catalogLinkClickHandler=function(t){t.preventDefault(),catalogTitle.classList.add("catalog__title--opened"),catalogTitle.textContent=t.currentTarget.firstChild.textContent,catalogItems.forEach(function(e){e!==t.currentTarget.parentElement&&e.classList.add("catalog__item--closed")}),(targetLink=t.currentTarget).classList.add("catalog__link--closed"),(targetCatalogSublist=t.currentTarget.parentElement.querySelector(".catalog__sublist")).classList.add("catalog__sublist--opened"),catalogTitle.addEventListener("click",catalogTitleClickHandler)},catalogTitleClickHandler=function(){catalogTitle.classList.remove("catalog__title--opened"),catalogTitle.textContent="Каталог",catalogItems.forEach(function(e){e.classList.remove("catalog__item--closed")}),(targetLink||targetCatalogSublist)&&(targetLink.classList.remove("catalog__link--closed"),targetCatalogSublist.classList.remove("catalog__sublist--opened")),catalogTitle.removeEventListener("click",catalogTitleClickHandler)},catalogButtonClickHandler=function(){catalog.classList.remove("catalog--opened"),catalogButton.removeEventListener("click",catalogButtonClickHandler),catalogTitle.removeEventListener("click",catalogTitleClickHandler),document.body.style.top="",document.body.classList.remove("no-scroll"),window.scroll(0,offsetTop);for(var e=0;e<catalogLinks.length;e++)1<catalogLinks[e].parentElement.childElementCount&&catalogLinks[e].removeEventListener("click",catalogLinkClickHandler,!0);catalogTitle.classList.remove("catalog__title--opened"),catalogTitle.textContent="Каталог",catalogItems.forEach(function(e){e.classList.remove("catalog__item--closed")}),(targetLink||targetCatalogSublist)&&(targetLink.classList.remove("catalog__link--closed"),targetCatalogSublist.classList.remove("catalog__sublist--opened"))},setCatalogNumbersValue=function(){catalogItems.forEach(function(e,t){var i=e.querySelector(".catalog__sublist"),l=null===i?"":i.childElementCount;catalogNumbers[t].textContent=l})},requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=requestAnimationFrame;var filterBlockTimer,coord=0,isMoved=!1,recentlyViewedItemClickHandler=function(e){isClick||e.preventDefault()},recentlyViewedProductsMouseDownHandler=function(e){if(!window.matchMedia("(max-width: 1023px)").matches){e.preventDefault();var t=recentlyViewed.getBoundingClientRect().width,i=recentlyViewedProducts.getBoundingClientRect().width;recentlyViewedProducts.style.transition="";var l={x:e.clientX};isClick=!0;for(var a=function(e){e.preventDefault(),coord-=0<coord?.3*(l.x-e.x):coord<-i+t-50?.3*(l.x-e.x):l.x-e.x,recentlyViewedProducts.style.transform="translateX("+coord+"px)",l={x:e.clientX},isClick=!(isMoved=!0)},s=function(e){e.preventDefault(),isMoved&&(isMoved=!1),0<coord?coord=0:coord<-i+t&&(coord=-i+t),recentlyViewedProducts.style.transition="all 0.2s cubic-bezier(0.77, 0, 0.175, 1)",recentlyViewedProducts.style.transform="translateX("+coord+"px)",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s)},o=0;o<recentlyViewedItems.length;o++)recentlyViewedItems[o].addEventListener("click",recentlyViewedItemClickHandler);document.addEventListener("mousemove",a),document.addEventListener("mouseup",s)}},recentlyViewedProductsWheelHandler=function(e){if(!window.matchMedia("(max-width: 1023px)").matches){e.preventDefault();var t=recentlyViewedProducts.getBoundingClientRect().width,i=recentlyViewed.getBoundingClientRect().width;e.deltaY<0?coord-=40:coord+=40,0<coord?coord=0:coord<=-t+i&&(coord=-t+i),recentlyViewedProducts.style.transition="",recentlyViewedProducts.style.transform="translateX("+coord+"px)"}},citiesFooterClickHandler=function(t,i){t.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("footer__city--active")||(citiesFooter.forEach(function(e){e.classList.remove("footer__city--active")}),addressesFooter.forEach(function(e){e.classList.remove("footer__address--active")}),t.classList.add("footer__city--active"),i.classList.add("footer__address--active"))})},windowScrollHandler=function(){window.matchMedia("(max-width: 1023px)").matches||(searchField.blur(),searchField.style.transition="border-bottom 0.5s cubic-bezier(0.77, 0, 0.175, 1)",115<main.getBoundingClientRect().top?(header.classList.remove("header--fixed"),main.classList.remove("main--full"),logoTitle.classList.remove("logo__title--closed"),mainNavList.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),contacts.classList.remove("contacts--closed"),searchField.classList.add("search__field--closed")):(header.classList.add("header--fixed"),main.classList.add("main--full"),logoTitle.classList.add("logo__title--closed"),mainNavList.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),contacts.classList.add("contacts--closed"),searchField.classList.remove("search__field--closed")),getSearchInputWidth())},windowResizeHandler=function(){window.matchMedia("(max-width: 1023px)").matches?(document.body.classList.remove("dark"),document.body.style.overflow="",document.body.style.width="",header.style.zIndex="",header.style.right="",setTimeout(function(){header.style.transition=""},500),logoTitle.classList.remove("logo__title--closed"),searchField.placeholder="Поиск",navButton.classList.contains("main-nav__toggle--opened")&&logo.classList.contains("logo--opened")&&(navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed")),mainNavList.classList.contains("main-nav__list--fixed")?(mainNavList.classList.remove("main-nav__list--fixed"),mainNavList.classList.add("main-nav__list--closed"),navButton.classList.add("main-nav__toggle--closed"),siteNav.classList.add("site-nav--closed"),search.classList.add("search--closed")):navButton.classList.contains("main-nav__toggle--closed")&&(mainNavList.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),search.classList.add("search--closed")),sidebarCatalogLink.addEventListener("click",sidebarCatalogLinkClickHandler),catalog.classList.remove("catalog--opened"),catalogHeader.classList.remove("catalog__header--opened"),catalogButton.removeEventListener("click",catalogButtonClickHandler),catalogWrapper.classList.remove("catalog__wrapper--opened"),catalogTitleClickHandler(),catalogLinks.forEach(function(e){e.classList.remove("catalog__link--opened")}),catalogSublists.forEach(function(e){e.classList.remove("catalog__sublist--opened")})):(windowScrollHandler(),document.body.classList.remove("no-scroll"),document.body.classList.remove("dark"),document.body.style.overflow="",document.body.style.width="",header.style.zIndex="",header.style.right="",setTimeout(function(){header.style.transition=""},500),header.classList.remove("header--fixed"),main.classList.remove("main--full"),pageYOffset,logo.classList.remove("logo--closed"),logo.classList.add("logo--opened"),logoTitle.classList.remove("logo__title--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),mainNavList.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),search.classList.add("search--closed"),searchField.placeholder="Поиск товаров и услуг",contacts.classList.remove("contacts--closed"),searchField.addEventListener("focus",searchFieldFocusHandler),searchField.addEventListener("blur",searchFieldBlurHandler),filterButtonClickHandler(),sidebar.classList.remove("sidebar--closed"),sidebarCatalogLink.removeEventListener("click",sidebarCatalogLinkClickHandler),catalog.classList.remove("catalog--opened"),catalogHeader.classList.remove("catalog__header--opened"),catalogButton.removeEventListener("click",catalogButtonClickHandler),catalogWrapper.classList.remove("catalog__wrapper--opened"),catalogTitleClickHandler(),catalogLinks.forEach(function(e){e.classList.remove("catalog__link--opened")}),catalogSublists.forEach(function(e){e.classList.remove("catalog__sublist--opened")}),setTimeout(function(){$(".recently-viewed__products.slick-initialized").not(".recently-viewed__products--copy").slick("unslick")},50)),filterBlockTimer&&(clearTimeout(filterBlockTimer),filterBlockTimer=null),filterBlockTimer=setTimeout(function(){blockHeights=[],blockFullHeights=[],filterElementsHeights=[],getFilterBlockHeight()},500),document.removeEventListener("click",filterSelectsCloseHandler)};document.addEventListener("DOMContentLoaded",function(){window.addEventListener("scroll",windowScrollHandler),window.addEventListener("resize",windowResizeHandler),windowResizeHandler(),activeCityClickHandler(),navButton.addEventListener("click",navButtonClickHandler),searchSubmit.addEventListener("click",function(e){searchField.validity.valueMissing?searchField.setCustomValidity("Введите текст запроса."):(search.submit(),e.preventDefault())}),animateFilterSlider();for(var e=0;e<filterCaptions.length;e++)filterCapionsClickHandler(filterCaptions[e],filterSelects[e]);for(e=0;e<filterButtonsView.length;e++)filterButtonViewClickHandler(filterButtonsView[e]);for(e=0;e<filterButtonsView.length;e++)filterButtonSortClickHandler(filterButtonsSort[e]);for(e=0;e<filterElements.length;e++)filterElementClickHandler(filterElements[e]);for(e=0;e<filterLinksMore.length;e++)filterLinkMoreClickHandler(filterLinksMore[e]);for(e=0;e<citiesFooter.length;e++)citiesFooterClickHandler(citiesFooter[e],addressesFooter[e]);productsButton.addEventListener("click",productsButtonClickHandler),setCatalogNumbersValue(),recentlyViewedProducts.addEventListener("mousedown",recentlyViewedProductsMouseDownHandler),recentlyViewedProducts.addEventListener("wheel",recentlyViewedProductsWheelHandler)}),$(document).ready(function(){$(window).on("load resize",function(){1024<=innerWidth?($(".recently-viewed__products.slick-initialized").slick("slickUnfilter"),$(".recently-viewed__products.slick-initialized").slick("unslick")):document.querySelector(".recently-viewed__products").classList.contains("slick-initialized")||$(".recently-viewed__products").not(".recently-viewed__products--copy").slick({dots:!0,arrows:!0,infinite:!0,appendArrows:$(".controls"),prevArrow:$(".recently-viewed  .controls__button--previous"),nextArrow:$(".recently-viewed  .controls__button--next")})});var c=$(".filter__range");c.slider({range:!0,min:9e3,max:9e4,step:1e3,values:[2e4,8e4],slide:function(e,t){var i=c.slider("option","min"),l=c.slider("option","max"),a=c.slider("option","step"),s=$(".filter__block--opened  .filter__value--min"),o=$(".filter__block--opened  .filter__value--max"),r=$(".filter__block--opened  .filter__cost--min"),n=$(".filter__block--opened  .filter__cost--max");s.text(Math.floor(t.values[0]/a)+"K"),s.css({left:(t.values[0]-i)/(l-i)*100-1+"%"}),r[0].value=t.values[0],o.text(Math.floor(t.values[1]/a)+"K"),o.css({left:(t.values[1]-i)/(l-i)*100-1+"%"}),n[0].value=t.values[1]}});var e=c.slider("option","min"),t=c.slider("option","max"),i=c.slider("option","step"),l=c.slider("option","values"),a=$(".filter__value--min"),s=$(".filter__value--max");a.text(Math.floor(l[0]/i)+"K"),a.css({left:(l[0]-e)/(t-e)*100-1+"%"}),s.text(Math.floor(l[1]/i)+"K"),s.css({left:(l[1]-e)/(t-e)*100-1+"%"})});