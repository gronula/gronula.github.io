"use strict";var mainNavLinkTimer,header=document.querySelector(".header"),logo=header.querySelector(".logo"),logoTitle=logo.querySelector(".logo__title"),search=header.querySelector(".search"),searchIcon=search.querySelector(".search__icon"),searchField=search.querySelector(".search__field"),searchSubmit=search.querySelector(".search__button"),navButton=header.querySelector(".main-nav__toggle"),mainNav=header.querySelector(".main-nav"),mainNavList=mainNav.querySelector(".main-nav__list"),siteNav=header.querySelector(".site-nav"),contacts=header.querySelector(".contacts"),citiesWrapper=contacts.querySelector(".contacts__cities-wrapper"),activeCity=citiesWrapper.querySelector(".contacts__active"),citiesList=citiesWrapper.querySelector(".contacts__cities"),citiesHeader=citiesList.querySelectorAll(".contacts__city"),main=document.querySelector(".main"),sidebar=main.querySelector(".sidebar"),sidebarCatalogLink=sidebar.querySelector(".sidebar__link--catalog"),catalog=sidebar.querySelector(".catalog"),catalogHeader=catalog.querySelector(".catalog__header"),catalogTitle=catalog.querySelector(".catalog__title"),catalogButton=catalog.querySelector(".catalog__toggle"),catalogWrapper=catalog.querySelector(".catalog__wrapper"),catalogItems=catalog.querySelectorAll(".catalog__item"),catalogLinks=catalog.querySelectorAll(".catalog__link"),catalogNumbers=catalog.querySelectorAll(".catalog__number"),catalogSublists=catalog.querySelectorAll(".catalog__sublist"),categoryCompressor=main.querySelector(".categories__item--compressor  .categories__link"),categoryDehydrator=main.querySelector(".categories__item--dehydrator  .categories__link"),categoryPneumotool=main.querySelector(".categories__item--pneumotool  .categories__link"),categoryPump=main.querySelector(".categories__item--pump  .categories__link"),categoryPowerstation=main.querySelector(".categories__item--powerstation  .categories__link"),upwardButton=main.querySelector(".upward"),filterLinks=main.querySelectorAll(".filter__link"),filterForms=main.querySelectorAll(".filter__form"),filterElements=main.querySelectorAll(".filter__element"),filterCaptions=main.querySelectorAll(".filter__caption"),filterSelects=main.querySelectorAll(".filter__select"),filterPreview=main.querySelectorAll(".filter__preview"),brands=main.querySelector(".brands"),brandsLists=brands.querySelectorAll(".brands__list"),brandsImages=brands.querySelectorAll(".brands__image-wrapper"),footer=document.querySelector(".footer"),citiesFooter=footer.querySelectorAll(".footer__city"),addressesFooter=footer.querySelectorAll(".footer__address"),footerAuthor=footer.querySelector(".footer__policy + .footer__copyrights"),searchFieldWidth=100,mainNavWidth=240,getScrollWidth=function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",e.style.visibility="hidden",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},navButtonClickHandler=function(){window.matchMedia("(max-width: 1023px)").matches&&(navButton.classList.contains("main-nav__toggle--closed")?(document.body.classList.add("no-scroll"),header.classList.add("header--fixed"),logo.classList.remove("logo--opened"),logo.classList.add("logo--closed"),search.classList.remove("search--closed"),mainNav.style.width="",mainNavList.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),navButton.classList.remove("main-nav__toggle--closed"),navButton.classList.add("main-nav__toggle--opened"),sidebar.classList.add("sidebar--closed")):(document.body.classList.remove("no-scroll"),header.classList.remove("header--fixed"),logo.classList.remove("logo--closed"),logo.classList.add("logo--opened"),search.classList.add("search--closed"),mainNavList.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),sidebar.classList.remove("sidebar--closed")))},searchIconClickHandler=function(e){window.matchMedia("(max-width: 1023px)").matches||(e.stopPropagation(),mainNav.style.transition="all 0.5s cubic-bezier(0.77, 0, 0.175, 1)",mainNav.style.width=0,mainNav.classList.add("main-nav--closed"),searchField.style.transition="all 0.5s cubic-bezier(0.77, 0, 0.175, 1)",searchField.style.width=searchFieldWidth+"px")},searchFieldCloseHandler=function(e){e.target!==searchField&&e.target!==searchSubmit&&(searchIcon.classList.remove("search__icon--opened"),searchField.style.width="",mainNav.style.width=mainNavWidth+"px",mainNav.classList.remove("main-nav--closed"))},searchFieldFocusHandler=function(){window.matchMedia("(max-width: 1023px)").matches||(searchIcon.classList.add("search__icon--opened"),searchField.placeholder="Поиск",searchField.addEventListener("blur",searchFieldBlurHandler),document.addEventListener("click",searchFieldCloseHandler),header.classList.contains("header--fixed")||(mainNav.style.transition="all 0.5s cubic-bezier(0.77, 0, 0.175, 1)",mainNav.style.width=0,mainNav.classList.add("main-nav--closed"),searchField.style.transition="all 0.5s cubic-bezier(0.77, 0, 0.175, 1)",searchField.style.width=searchFieldWidth+"px"))},searchFieldBlurHandler=function(){window.matchMedia("(max-width: 1023px)").matches||(header.classList.contains("header--fixed")||(searchField.style.width="",mainNav.style.width=mainNavWidth+"px",mainNav.classList.remove("main-nav--closed")),searchIcon.classList.remove("search__icon--opened"),searchField.placeholder="Поиск товаров и услуг",document.removeEventListener("click",searchFieldCloseHandler),searchField.removeEventListener("blur",searchFieldBlurHandler))},getSearchInputWidth=function(){0===pageYOffset?(mainNav.style.transition="",mainNav.style.width="",mainNavWidth=mainNav.getBoundingClientRect().width,mainNav.style.width=0,searchField.style.transition="",searchField.style.width="100%",searchFieldWidth=searchField.getBoundingClientRect().width,searchField.classList.add("search__field--closed"),searchField.style.width="",mainNav.style.width=mainNavWidth+"px",mainNav.classList.remove("main-nav--closed")):(mainNav.style.width="",searchField.style.width="")},mainNavLinkCatalogMouseoverHandler=function(){if(!window.matchMedia("(max-width: 1023px)").matches){window.removeEventListener("scroll",windowScrollHandler),offsetTop=pageYOffset,window.matchMedia("(max-width: 1687px)").matches?(header.style.left="",header.style.right=getScrollWidth()+"px"):(header.style.left=65<offsetTop?getScrollWidth()/-2+"px":"",header.style.right=65<offsetTop?getScrollWidth()/2+"px":getScrollWidth()+"px"),document.body.style.top=-offsetTop+"px",document.body.style.width="calc(100% - "+getScrollWidth()+"px)",document.body.classList.add("no-scroll"),mainNavOverlay.classList.remove("main-nav__overlay--out"),mainNavOverlay.classList.add("main-nav__overlay--hover");var e=mainNavLinkCatalog.getBoundingClientRect().left;sidebar.style.left=e+"px",sidebar.classList.remove("sidebar--out"),sidebar.classList.add("sidebar--hover"),mainNavLinkTimer&&(clearTimeout(mainNavLinkTimer),mainNavLinkTimer=null),catalogItems.forEach(function(e){e.addEventListener("mouseenter",catalogItemMouseenterHandler),e.addEventListener("mouseleave",catalogItemMouseleaveHandler)}),mainNavOverlay.addEventListener("mouseover",mainNavOverlayMouseoverHandler),sidebar.addEventListener("mouseover",sidebarMouseoverHandler)}},catalogItemMouseenterHandler=function(){catalogWrapper.classList.add("catalog__wrapper--hovered")},catalogItemMouseleaveHandler=function(){catalogWrapper.classList.remove("catalog__wrapper--hovered")},mainNavOverlayMouseoverHandler=function(){document.body.style.top="",document.body.style.width="",document.body.classList.remove("no-scroll"),header.style.left="",header.style.right="",window.scroll(0,offsetTop),mainNavOverlay.classList.add("main-nav__overlay--out"),sidebar.classList.add("sidebar--out"),sidebar.style.left="",mainNavLinkCatalog.removeEventListener("mouseover",mainNavOverlayMouseoverHandler),window.addEventListener("scroll",windowScrollHandler),mainNavLinkTimer=setTimeout(function(){catalogItems.forEach(function(e){e.removeEventListener("mouseenter",catalogItemMouseenterHandler),e.removeEventListener("mouseleave",catalogItemMouseleaveHandler)}),mainNavOverlay.classList.remove("main-nav__overlay--hover"),sidebar.classList.remove("sidebar--hover"),sidebar.removeEventListener("mouseover",sidebarMouseoverHandler)},500)},sidebarMouseoverHandler=function(){mainNavOverlay.classList.remove("main-nav__overlay--out"),mainNavOverlay.classList.add("main-nav__overlay--hover"),sidebar.classList.remove("sidebar--out"),sidebar.classList.add("sidebar--hover"),mainNavLinkTimer&&(clearTimeout(mainNavLinkTimer),mainNavLinkTimer=null)},mainNavLinkCatalog=mainNav.querySelector(".main-nav__link--catalog"),mainNavOverlay=mainNav.querySelector(".main-nav__overlay");mainNavLinkCatalog.addEventListener("mouseover",mainNavLinkCatalogMouseoverHandler);var targetLink,targetCatalogSublist,offsetTop=0,sidebarCatalogLinkClickHandler=function(e){e.preventDefault(),offsetTop=pageYOffset,document.body.style.top=-offsetTop+"px",document.body.classList.add("no-scroll"),catalog.classList.add("catalog--opened");for(var t=0;t<catalogLinks.length;t++)1<catalogLinks[t].parentElement.childElementCount&&catalogLinks[t].addEventListener("click",catalogLinkClickHandler,!0);catalogButton.addEventListener("click",catalogButtonClickHandler)},catalogLinkClickHandler=function(t){t.preventDefault(),catalogTitle.classList.add("catalog__title--opened"),catalogTitle.textContent=t.currentTarget.firstChild.textContent,catalogItems.forEach(function(e){e!==t.currentTarget.parentElement&&e.classList.add("catalog__item--closed")}),(targetLink=t.currentTarget).classList.add("catalog__link--closed"),(targetCatalogSublist=t.currentTarget.parentElement.querySelector(".catalog__sublist")).classList.add("catalog__sublist--opened"),catalogTitle.addEventListener("click",catalogTitleClickHandler)},catalogTitleClickHandler=function(){catalogTitle.classList.remove("catalog__title--opened"),catalogTitle.textContent="Каталог",catalogItems.forEach(function(e){e.classList.remove("catalog__item--closed")}),(targetLink||targetCatalogSublist)&&(targetLink.classList.remove("catalog__link--closed"),targetCatalogSublist.classList.remove("catalog__sublist--opened")),catalogTitle.removeEventListener("click",catalogTitleClickHandler)},catalogButtonClickHandler=function(){catalog.classList.remove("catalog--opened"),catalogButton.removeEventListener("click",catalogButtonClickHandler),catalogTitle.removeEventListener("click",catalogTitleClickHandler),document.body.style.top="",document.body.classList.remove("no-scroll"),window.scroll(0,offsetTop);for(var e=0;e<catalogLinks.length;e++)1<catalogLinks[e].parentElement.childElementCount&&catalogLinks[e].removeEventListener("click",catalogLinkClickHandler,!0);catalogTitle.classList.remove("catalog__title--opened"),catalogTitle.textContent="Каталог",catalogItems.forEach(function(e){e.classList.remove("catalog__item--closed")}),(targetLink||targetCatalogSublist)&&(targetLink.classList.remove("catalog__link--closed"),targetCatalogSublist.classList.remove("catalog__sublist--opened"))},setCatalogNumbersValue=function(){catalogItems.forEach(function(e,t){var a=e.querySelector(".catalog__sublist"),i=null===a?"":a.childElementCount;catalogNumbers[t].textContent=i})},activeCityClickHandler=function(){activeCity.addEventListener("click",function(){citiesList.classList.toggle("contacts__cities--opened");for(var e=0;e<citiesHeader.length;e++)citiesHeader[e].addEventListener("click",citiesHeaderClickHandler,!0);document.addEventListener("click",citiesListCloseHandler,!0)})},citiesHeaderClickHandler=function(e){activeCity.textContent=e.target.textContent,citiesList.classList.remove("contacts__cities--opened"),citiesHeader.forEach(function(e){e.removeEventListener("click",citiesHeaderClickHandler,!0)})},citiesListCloseHandler=function(e){e.target.classList.contains("contacts__city")||(citiesList.classList.remove("contacts__cities--opened"),e.stopPropagation()),document.removeEventListener("click",citiesListCloseHandler,!0)},citiesFooterClickHandler=function(t,a){t.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("footer__city--active")||(citiesFooter.forEach(function(e){e.classList.remove("footer__city--active")}),addressesFooter.forEach(function(e){e.classList.remove("footer__address--active")}),t.classList.add("footer__city--active"),a.classList.add("footer__address--active"))})},filterLinksClickHandler=function(t,a){t.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("filter__link--active")||(filterLinks.forEach(function(e){e.classList.remove("filter__link--active")}),t.classList.add("filter__link--active"),filterForms.forEach(function(e){e.classList.remove("filter__form--active")}),a.classList.add("filter__form--active"))})},isHandlerAdded=!1,getFilterBlockHeight=function(){filterForms.forEach(function(e,t){e.classList.add("filter__form--active");for(var a=e.querySelectorAll(".filter__heading"),i=e.querySelectorAll(".filter__block"),s=0;s<a.length;s++){i[s].style.transition="none",i[s].style.height="",i[s].style.maxHeight="",i[s].classList.remove("filter__block--opened");var o=a[s].parentElement,l=o.getBoundingClientRect().height+1;if(i[s].classList.contains("filter__block--elements")){for(var n=0;n<o.children.length;n++)o.children[n].classList.contains("visually-hidden")||(l-=o.children[n].getBoundingClientRect().height);i[s].style.maxHeight=l+"px"}if(i[s].classList.add("filter__block--opened"),i[s].parentElement.classList.contains("filter__additional"))var r=l;else r=i[s].getBoundingClientRect().height;var c=i[s].querySelector(".filter__elements");if(c){var d=c.querySelectorAll(".filter__element");d.forEach(function(e){e.style.display="none"}),i[s].style.maxHeight="";for(var m=0;m<d.length;m++){d[m].style.display="",l<c.getBoundingClientRect().height&&(d[m].style.display="none")}i[s].style.maxHeight=l+"px"}i[s].parentElement.classList.contains("filter__additional")?(a[s].classList.add("filter__heading--opened"),i[s].style.height=l+"px"):i[s].classList.remove("filter__block--opened"),i[s].style.transition="",filterHeadingsClickHandler(e,a,i,r,s,isHandlerAdded)}a[0].classList.add("filter__heading--opened"),i[0].classList.add("filter__block--opened"),i[0].style.height=i[0].getBoundingClientRect().height+"px",0<t&&e.classList.remove("filter__form--active")})},filterHeadingsClickHandler=function(e,a,i,s,o,t){t||(t=!0,a[o].addEventListener("click",function(t){i[o].classList.contains("filter__block--opened")?(a[o].classList.remove("filter__heading--opened"),i[o].classList.remove("filter__block--opened"),i[o].style.height=0):(a.forEach(function(e){t.target.parentElement.classList.contains("filter__additional")||e.parentElement.classList.contains("filter__additional")||e.classList.remove("filter__heading--opened")}),i.forEach(function(e){t.target.parentElement.classList.contains("filter__additional")||e.parentElement.classList.contains("filter__additional")||(e.classList.remove("filter__block--opened"),e.style.height=0)}),a[o].classList.add("filter__heading--opened"),i[o].classList.add("filter__block--opened"),i[o].style.height=s+"px")}))},filterElementClickHandler=function(t){t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("filter__element--selected")})},filterCapionsClickHandler=function(e,t){e.addEventListener("click",function(){t.classList.contains("filter__select--opened")?(t.classList.remove("filter__select--opened"),document.removeEventListener("click",filterSelectsCloseHandler)):(filterSelects.forEach(function(e){e.classList.remove("filter__select--opened")}),t.classList.add("filter__select--opened"),document.addEventListener("click",filterSelectsCloseHandler))})},filterSelectsCloseHandler=function(e){e.target.classList.contains("filter__caption")||e.target.classList.contains("filter__label")||e.target.classList.contains("filter__checkbox")||(main.querySelector(".filter__select--opened").classList.remove("filter__select--opened"),document.removeEventListener("click",filterSelectsCloseHandler))},filterFormsClickHandler=function(s,o){s.addEventListener("click",function(){var e=s.querySelectorAll("input:not([type=checkbox]):not([type=radio])"),t=s.querySelectorAll("input[type=checkbox]"),a=s.querySelectorAll("input[type=radio]"),i=[];e.forEach(function(e){""!==e.value&&i.push(e)}),t.forEach(function(e){e.checked&&i.push(e)}),a.forEach(function(e){e.checked&&i.push(e)}),0<i.length?o.classList.add("filter__preview--opened"):o.classList.remove("filter__preview--opened")})},filterFormsSubmitHandler=function(e){e.addEventListener("submit",function(e){e.preventDefault()})},bestsellersItemClickHandler=function(e){e.preventDefault(),window.location.href="#"},bestsellersItemMousedownHandler=function(e){e.preventDefault(),2===e.which&&(window.open("#","_blank"),window.focus())},bestsellersItems=main.querySelectorAll(".item--bestsellers");bestsellersItems.forEach(function(e){e.addEventListener("click",bestsellersItemClickHandler),e.addEventListener("mousedown",bestsellersItemMousedownHandler)});var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=requestAnimationFrame;var requestId,filterBlockTimer,isScrollDown=!0,x=0,animation=function(){if(!window.matchMedia("(max-width: 1023px)").matches){var t=brands.getBoundingClientRect().width;x=isScrollDown?x-1:x+1,brandsLists.forEach(function(e){x<-t?x=0:0<x&&(x=-t),e.style.transform="translateX("+x+"px)"}),requestId=requestAnimationFrame(animation)}},cancelAnimation=function(){cancelAnimationFrame(requestId)},isMoved=!1,isClick=!0,brandsImageClickHandler=function(e){isClick||e.preventDefault()},brandsImageMouseDownHandler=function(e){if(!window.matchMedia("(max-width: 1023px)").matches){e.preventDefault();var t=brands.getBoundingClientRect().width,a={x:e.clientX};isClick=!0;for(var i=function(e){e.preventDefault(),cancelAnimation(),x-=a.x-e.x,brandsLists.forEach(function(e){x<-t?x=0:0<x&&(x=-t),e.style.transform="translateX("+x+"px)"}),a={x:e.clientX},isClick=!(isMoved=!0)},s=function(e){e.preventDefault(),isMoved&&(isMoved=!1,animation()),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s,!0)},o=0;o<brandsImages.length;o++)brandsImages[o].addEventListener("click",brandsImageClickHandler);document.addEventListener("mousemove",i),document.addEventListener("mouseup",s,!0)}},animateBrandsLists=function(){if(!window.matchMedia("(max-width: 1023px)").matches){var t=brands.getBoundingClientRect().top;window.addEventListener("scroll",function(){var e=brands.getBoundingClientRect().top;isScrollDown=e<=t,t=e}),requestAnimationFrame(animation);for(var e=0;e<brandsImages.length;e++)brandsImages[e].addEventListener("mousedown",brandsImageMouseDownHandler)}},windowScrollHandler=function(){if(!window.matchMedia("(max-width: 1023px)").matches){searchField.blur(),searchField.style.transition="border-bottom 0.5s cubic-bezier(0.77, 0, 0.175, 1)";var e=document.body.offsetHeight-footerAuthor.getBoundingClientRect().height,t=e-upwardButton.getBoundingClientRect().height-28;e<window.pageYOffset+innerHeight?(upwardButton.style.position="absolute",upwardButton.style.top=t+"px"):(upwardButton.style.position="",upwardButton.style.top=""),115<main.getBoundingClientRect().top?(header.classList.remove("header--fixed"),main.classList.remove("main--full"),logoTitle.classList.remove("logo__title--closed"),mainNavList.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),contacts.classList.remove("contacts--closed"),searchField.classList.add("search__field--closed")):(header.classList.add("header--fixed"),main.classList.add("main--full"),logoTitle.classList.add("logo__title--closed"),mainNavList.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),contacts.classList.add("contacts--closed"),searchField.classList.remove("search__field--closed")),getSearchInputWidth()}},windowResizeHandler=function(){if(window.matchMedia("(max-width: 1023px)").matches)document.body.classList.remove("dark"),document.body.style.overflow="",document.body.style.width="",header.style.zIndex="",header.style.right="",setTimeout(function(){header.style.transition=""},500),logoTitle.classList.remove("logo__title--closed"),searchField.placeholder="Поиск",navButton.classList.contains("main-nav__toggle--opened")&&logo.classList.contains("logo--opened")&&(navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed")),mainNavList.classList.contains("main-nav__list--fixed")?(mainNavList.classList.remove("main-nav__list--fixed"),mainNavList.classList.add("main-nav__list--closed"),navButton.classList.add("main-nav__toggle--closed"),siteNav.classList.add("site-nav--closed"),search.classList.add("search--closed")):navButton.classList.contains("main-nav__toggle--closed")&&(mainNavList.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),search.classList.add("search--closed")),categoryCompressor.textContent="Компрессоры",categoryDehydrator.textContent="Осушители",categoryPump.textContent="Насосы",categoryPowerstation.textContent="Электростанции",sidebarCatalogLink.addEventListener("click",sidebarCatalogLinkClickHandler),catalog.classList.remove("catalog--opened"),catalogHeader.classList.remove("catalog__header--opened"),catalogButton.removeEventListener("click",catalogButtonClickHandler),catalogWrapper.classList.remove("catalog__wrapper--opened"),catalogTitleClickHandler(),catalogLinks.forEach(function(e){e.classList.remove("catalog__link--opened")}),catalogSublists.forEach(function(e){e.classList.remove("catalog__sublist--opened")});else{windowScrollHandler(),document.body.classList.remove("no-scroll"),document.body.classList.remove("dark"),document.body.style.overflow="",document.body.style.width="",header.style.zIndex="",header.style.right="",setTimeout(function(){header.style.transition=""},500),header.classList.remove("header--fixed"),main.classList.remove("main--full"),pageYOffset,logo.classList.remove("logo--closed"),logo.classList.add("logo--opened"),logoTitle.classList.remove("logo__title--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),mainNavList.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),search.classList.add("search--closed"),searchField.placeholder="Поиск товаров и услуг",contacts.classList.remove("contacts--closed"),sidebar.classList.remove("sidebar--closed"),sidebarCatalogLink.removeEventListener("click",sidebarCatalogLinkClickHandler),catalog.classList.remove("catalog--opened"),catalogHeader.classList.remove("catalog__header--opened"),catalogButton.removeEventListener("click",catalogButtonClickHandler),catalogWrapper.classList.remove("catalog__wrapper--opened"),catalogTitleClickHandler(),catalogLinks.forEach(function(e){e.classList.remove("catalog__link--opened")}),catalogSublists.forEach(function(e){e.classList.remove("catalog__sublist--opened")}),searchIcon.addEventListener("click",searchIconClickHandler),searchField.addEventListener("focus",searchFieldFocusHandler);var e=categoryCompressor.parentElement.querySelectorAll(".categories__subitem").length,t=categoryDehydrator.parentElement.querySelectorAll(".categories__subitem").length,a=categoryPneumotool.parentElement.querySelectorAll(".categories__subitem").length,i=categoryPump.parentElement.querySelectorAll(".categories__subitem").length,s=categoryPowerstation.parentElement.querySelectorAll(".categories__subitem").length;categoryCompressor.innerHTML='Компрессорное оборудование<sup class="categories__number">'+e+"</sup>",categoryDehydrator.innerHTML='Адсорбционные осушители<sup class="categories__number">'+t+"</sup>",categoryPneumotool.innerHTML='Пневмоинструмент<sup class="categories__number">'+a+"</sup>",categoryPump.innerHTML='Вакуумные насосы<sup class="categories__number">'+i+"</sup>",categoryPowerstation.innerHTML='Автономные электростанции<sup class="categories__number">'+s+"</sup>",setTimeout(function(){$(".brands__list.slick-initialized").not(".brands__list--copy").slick("unslick")},50),cancelAnimation(),animateBrandsLists()}filterBlockTimer&&(clearTimeout(filterBlockTimer),filterBlockTimer=null),filterBlockTimer=setTimeout(function(){getFilterBlockHeight(),isHandlerAdded=!0},500),document.removeEventListener("click",filterSelectsCloseHandler)};document.addEventListener("DOMContentLoaded",function(){window.addEventListener("scroll",windowScrollHandler),window.addEventListener("resize",windowResizeHandler),windowResizeHandler(),activeCityClickHandler(),navButton.addEventListener("click",navButtonClickHandler),searchSubmit.addEventListener("click",function(e){searchField.validity.valueMissing?searchField.setCustomValidity("Введите текст запроса."):(search.submit(),e.preventDefault())});for(var e=0;e<filterLinks.length;e++)filterLinksClickHandler(filterLinks[e],filterForms[e]),filterFormsClickHandler(filterForms[e],filterPreview[e]),filterFormsSubmitHandler(filterForms[e]);for(filterForms[0].classList.add("filter__form--active"),e=0;e<filterElements.length;e++)filterElementClickHandler(filterElements[e]);for(e=0;e<filterCaptions.length;e++)filterCapionsClickHandler(filterCaptions[e],filterSelects[e]);for(e=0;e<citiesFooter.length;e++)citiesFooterClickHandler(citiesFooter[e],addressesFooter[e]);setCatalogNumbersValue()}),$(document).ready(function(){$(".banner__slides").on("init reInit afterChange",function(e,t,a){var i=(a||0)+1;i<10?$(".banner__controls .controls__number--active").text("0"+i):$(".banner__controls .controls__number--active").text(i),t.slideCount<10?$(".banner__controls .controls__number--last").text("0"+t.slideCount):$(".banner__controls .controls__number--last").text(t.slideCount),$(".banner__controls .controls__timeline").css({height:"0"}).stop().animate({height:"100%"},6e3)}),$(".banner__slides").slick({dots:!1,arrows:!0,infinite:!0,autoplay:!0,autoplaySpeed:6e3,speed:500,pauseOnHover:!1,variableWidth:!0,appendArrows:$(".banner__controls"),prevArrow:$(".banner__controls .controls__button--previous"),nextArrow:$(".banner__controls .controls__button--next"),responsive:[{breakpoint:1024,settings:{dots:!0,arrows:!1,variableWidth:!1}}]}),$(window).on("load resize",function(){1024<=innerWidth?$(".news__notes.slick-initialized").slick("unslick"):(brandsLists.forEach(function(e){e.style.transform=""}),document.querySelector(".brands__list").classList.contains("slick-initialized")||$(".brands__list").not(".brands__list--copy").slick({dots:!0,arrows:!1,infinite:!0,autoplay:!0,autoplaySpeed:6e3,speed:500,pauseOnHover:!1,slidesToShow:4,variableWidth:!0,centerMode:!0,responsive:[{breakpoint:480,settings:{slidesToShow:1,centerMode:!1}},{breakpoint:700,settings:{slidesToShow:2,centerMode:!1}},{breakpoint:940,settings:{slidesToShow:3}}]}),document.querySelector(".news__notes").classList.contains("slick-initialized")||$(".news__notes").slick({dots:!0,arrows:!1,infinite:!1,adaptiveHeight:!0}))}),$(window).on("scroll resize",function(){1024<=window.innerWidth?0!==$(window).scrollTop()?$(".upward").fadeIn():$(".upward").fadeOut():$(".upward").css({display:"none"})}),$(".upward").click(function(){$("body,html").animate({scrollTop:0},500)});var c=$(".filter__range");c.slider({range:!0,min:9e3,max:9e4,step:1e3,values:[2e4,8e4],slide:function(e,t){var a=c.slider("option","min"),i=c.slider("option","max"),s=c.slider("option","step"),o=$(".filter__form--active  .filter__block--opened  .filter__value--min"),l=$(".filter__form--active  .filter__block--opened  .filter__value--max"),n=$(".filter__form--active  .filter__block--opened  .filter__cost--min"),r=$(".filter__form--active  .filter__block--opened  .filter__cost--max");o.text(Math.floor(t.values[0]/s)+"K"),o.css({left:(t.values[0]-a)/(i-a)*100-1+"%"}),n[0].value=t.values[0],l.text(Math.floor(t.values[1]/s)+"K"),l.css({left:(t.values[1]-a)/(i-a)*100-1+"%"}),r[0].value=t.values[1]},stop:function(){var e=main.querySelector(".filter__form--active  .filter__preview"),t=$(".filter__form--active  .filter__block--opened  .filter__cost--min"),a=$(".filter__form--active  .filter__block--opened  .filter__cost--max");(t[0].value||a[0].value)&&e.classList.add("filter__preview--opened")}});var e=c.slider("option","min"),t=c.slider("option","max"),a=c.slider("option","step"),i=c.slider("option","values"),s=$(".filter__value--min"),o=$(".filter__value--max");s.text(Math.floor(i[0]/a)+"K"),s.css({left:(i[0]-e)/(t-e)*100-1+"%"}),o.text(Math.floor(i[1]/a)+"K"),o.css({left:(i[1]-e)/(t-e)*100-1+"%"}),$(".industry .slider__items").on("init reInit afterChange",function(e,t,a){var i=(a||0)+1;i<10?$(".industry__controls .controls__number--active").text("0"+i):$(".industry__controls .controls__number--active").text(i),t.slideCount<10?$(".industry__controls .controls__number--last").text("0"+t.slideCount):$(".industry__controls .controls__number--last").text(t.slideCount),$(".industry__controls .controls__timeline").css({width:"0"}).stop().animate({width:"100%"},6e3)}),$(".industry .slider__items").slick({dots:!1,arrows:!0,infinite:!0,autoplay:!1,autoplaySpeed:6e3,slidesToShow:1,speed:500,pauseOnHover:!1,variableWidth:!0,draggable:!1,appendArrows:$(".industry__controls"),prevArrow:$(".industry__controls .controls__button--previous"),nextArrow:$(".industry__controls .controls__button--next"),responsive:[{breakpoint:530,settings:{draggable:!0}},{breakpoint:790,settings:{draggable:!0}}]}),$(".projects .slider__items").slick({dots:!1,arrows:!0,infinite:!0,autoplay:!1,autoplaySpeed:6e3,pauseOnHover:!1,speed:500,slidesToShow:1,variableWidth:!0,draggable:!1,appendArrows:$(".projects__controls"),prevArrow:$(".projects__controls .controls__button--previous"),nextArrow:$(".projects__controls .controls__button--next"),responsive:[{breakpoint:530,settings:{draggable:!0}},{breakpoint:790,settings:{draggable:!0}}]}),$(".clients__list").slick({dots:!0,arrows:!1,infinite:!0,autoplay:!0,autoplaySpeed:6e3,speed:500,pauseOnHover:!1,slidesToShow:4,variableWidth:!0,centerMode:!0,responsive:[{breakpoint:480,settings:{slidesToShow:1,centerMode:!1}},{breakpoint:700,settings:{slidesToShow:2,centerMode:!1}},{breakpoint:940,settings:{slidesToShow:3}}]})});