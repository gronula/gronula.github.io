"use strict";var header=document.querySelector(".header"),logo=header.querySelector(".logo"),logoTitle=logo.querySelector(".logo__title"),search=header.querySelector(".search"),searchIcon=search.querySelector(".search__icon"),searchField=search.querySelector(".search__field"),searchSubmit=search.querySelector(".search__button"),navButton=header.querySelector(".main-nav__toggle"),mainNav=header.querySelector(".main-nav__list"),siteNav=header.querySelector(".site-nav"),citiesWrapper=header.querySelector(".contacts__cities-wrapper"),activeCity=citiesWrapper.querySelector(".contacts__active"),citiesList=citiesWrapper.querySelector(".contacts__cities"),citiesHeader=citiesList.querySelectorAll(".contacts__city"),sidebar=document.querySelector(".sidebar"),categoryCompressor=document.querySelector(".categories__item--compressor  .categories__link"),categoryDehydrator=document.querySelector(".categories__item--dehydrator  .categories__link"),categoryPneumotool=document.querySelector(".categories__item--pneumotool  .categories__link"),categoryPump=document.querySelector(".categories__item--pump  .categories__link"),categoryPowerstation=document.querySelector(".categories__item--powerstation  .categories__link"),filterHeadings=document.querySelectorAll(".filter__heading"),filterBlocks=document.querySelectorAll(".filter__block"),filterCaptions=document.querySelectorAll(".filter__caption"),filterSelects=document.querySelectorAll(".filter__select"),citiesFooter=document.querySelectorAll(".footer__city"),addressesFooter=document.querySelectorAll(".footer__address"),navButtonClickHandler=function(){window.matchMedia("(max-width: 1519px)").matches?navButton.classList.contains("main-nav__toggle--closed")?(document.body.classList.add("no-scroll"),header.classList.add("header--fixed"),logo.classList.remove("logo--opened"),logo.classList.add("logo--closed"),search.classList.remove("search--closed"),mainNav.classList.remove("main-nav__list--closed"),siteNav.classList.remove("site-nav--closed"),navButton.classList.remove("main-nav__toggle--closed"),navButton.classList.add("main-nav__toggle--opened"),sidebar.classList.add("sidebar--closed")):(document.body.classList.remove("no-scroll"),header.classList.remove("header--fixed"),logo.classList.remove("logo--closed"),logo.classList.add("logo--opened"),search.classList.add("search--closed"),mainNav.classList.add("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),sidebar.classList.remove("sidebar--closed")):(navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),mainNav.classList.remove("main-nav__list--closed"),searchSubmit.classList.add("search__button--closed"),searchField.addEventListener("click",searchFieldClickHandler),document.removeEventListener("click",searchFieldCloseHandler))},searchFieldClickHandler=function(){navButton.classList.remove("main-nav__toggle--closed"),navButton.classList.add("main-nav__toggle--opened"),mainNav.classList.add("main-nav__list--closed"),searchSubmit.classList.remove("search__button--closed"),searchField.removeEventListener("click",searchFieldClickHandler)},searchIconClickHandler=function(){logoTitle.classList.add("logo__title--closed"),navButton.classList.remove("main-nav__toggle--closed"),navButton.classList.add("main-nav__toggle--opened"),mainNav.classList.add("main-nav__list--closed"),searchField.classList.remove("search__field--closed"),searchField.focus(),document.addEventListener("click",searchFieldCloseHandler),navButton.addEventListener("click",navButtonClickHandler),searchIcon.removeEventListener("click",searchIconClickHandler)},searchFieldCloseHandler=function(e){e.target!==searchField&&e.target!==searchIcon&&e.target!==searchSubmit&&e.target!==navButton&&(logoTitle.classList.remove("logo__title--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),mainNav.classList.remove("main-nav__list--closed"),searchField.classList.add("search__field--closed"),searchIcon.addEventListener("click",searchIconClickHandler),document.removeEventListener("click",searchFieldCloseHandler),e.preventDefault())},windowResizeHandler=function(){if(logoTitle.classList.remove("logo__title--closed"),window.matchMedia("(max-width: 1519px)").matches)searchIcon.removeEventListener("click",searchIconClickHandler),searchField.placeholder="Поиск",searchField.classList.remove("search__field--closed"),navButton.classList.contains("main-nav__toggle--closed")&&mainNav.classList.add("main-nav__list--closed"),categoryCompressor.textContent="Компрессоры",categoryDehydrator.textContent="Осушители",categoryPump.textContent="Насосы",categoryPowerstation.textContent="Электростанции";else{searchField.placeholder="Поиск товаров и услуг",searchField.classList.add("search__field--closed");var e=categoryCompressor.parentElement.querySelectorAll(".categories__subitem").length,t=categoryDehydrator.parentElement.querySelectorAll(".categories__subitem").length,s=categoryPneumotool.parentElement.querySelectorAll(".categories__subitem").length,o=categoryPump.parentElement.querySelectorAll(".categories__subitem").length,i=categoryPowerstation.parentElement.querySelectorAll(".categories__subitem").length;categoryCompressor.innerHTML='Компрессорное оборудование<sup class="categories__number">'+e+"</sup>",categoryDehydrator.innerHTML='Адсорбционные осушители<sup class="categories__number">'+t+"</sup>",categoryPneumotool.innerHTML='Пневмоинструмент<sup class="categories__number">'+s+"</sup>",categoryPump.innerHTML='Вакуумные насосы<sup class="categories__number">'+o+"</sup>",categoryPowerstation.innerHTML='Автономные электростанции<sup class="categories__number">'+i+"</sup>",document.body.classList.remove("no-scroll"),header.classList.remove("header--fixed"),logo.classList.remove("logo--closed"),logo.classList.add("logo--opened"),search.classList.add("search--closed"),mainNav.classList.remove("main-nav__list--closed"),siteNav.classList.add("site-nav--closed"),navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),sidebar.classList.remove("sidebar--closed"),searchIcon.addEventListener("click",searchIconClickHandler)}},searchFieldInputHandler=function(){var e="";searchField.validity.valueMissing&&(e="Введите текст запроса."),searchField.setCustomValidity(e)},citiesHeaderClickHandler=function(e){activeCity.textContent=e.target.textContent,citiesList.classList.remove("contacts__cities--opened"),citiesHeader.forEach(function(e){e.removeEventListener("click",citiesHeaderClickHandler)})},citiesListCloseHandler=function(e){e.target.classList.contains("contacts__city")||e.target===activeCity||(citiesList.classList.remove("contacts__cities--opened"),document.removeEventListener("click",citiesListCloseHandler))},citiesFooterClickHandler=function(t,s){t.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("footer__city--active")||(citiesFooter.forEach(function(e){e.classList.remove("footer__city--active")}),addressesFooter.forEach(function(e){e.classList.remove("footer__address--active")}),t.classList.add("footer__city--active"),s.classList.add("footer__address--active"))})},windowScrollHandler=function(){window.matchMedia("(max-width: 1519px)").matches||(0<window.pageYOffset?(logoTitle.classList.add("logo__title--closed"),navButton.classList.remove("main-nav__toggle--closed"),navButton.classList.add("main-nav__toggle--opened"),mainNav.classList.add("main-nav__list--closed"),searchField.classList.remove("search__field--closed")):(navButton.classList.remove("main-nav__toggle--opened"),navButton.classList.add("main-nav__toggle--closed"),mainNav.classList.remove("main-nav__list--closed"),searchField.classList.add("search__field--closed"),searchSubmit.classList.remove("search__button--closed")))},filterHeadingsClickHandler=function(e,t){e.addEventListener("click",function(){t.classList.contains("filter__block--opened")?t.classList.remove("filter__block--opened"):t.classList.add("filter__block--opened")})},filterCapionsClickHandler=function(e,t){e.addEventListener("click",function(){t.classList.contains("filter__select--opened")?t.classList.remove("filter__select--opened"):t.classList.add("filter__select--opened")})};document.addEventListener("DOMContentLoaded",function(){navButton.addEventListener("click",navButtonClickHandler),windowResizeHandler(),window.addEventListener("resize",windowResizeHandler),window.addEventListener("scroll",windowScrollHandler),activeCity.addEventListener("click",function(){var t=activeCity.textContent;citiesHeader.forEach(function(e){e.textContent===t&&citiesList.insertBefore(e,citiesList.firstChild)}),citiesList.classList.add("contacts__cities--opened");for(var e=0;e<citiesHeader.length;e++)citiesHeader[e].addEventListener("click",citiesHeaderClickHandler);document.addEventListener("click",citiesListCloseHandler)}),searchField.addEventListener("input",searchFieldInputHandler),searchSubmit.addEventListener("click",function(e){searchField.validity.valueMissing?searchField.setCustomValidity("Введите текст запроса."):(search.submit(),e.preventDefault())});for(var e=0;e<filterHeadings.length;e++)filterHeadingsClickHandler(filterHeadings[e],filterBlocks[e]);for(e=0;e<filterCaptions.length;e++)filterCapionsClickHandler(filterCaptions[e],filterSelects[e]);for(e=0;e<citiesFooter.length;e++)citiesFooterClickHandler(citiesFooter[e],addressesFooter[e])}),$(document).ready(function(){$(".banner__slides").on("init reInit afterChange",function(e,t,s){var o=(s||0)+1;$(".banner__controls .controls__number--active").text("0"+o),$(".banner__controls .controls__number--last").text("0"+t.slideCount),$(".banner__controls .controls__timeline").css({height:"0"}).stop().animate({height:"100%"},1e4),1===o?$(".banner__controls .controls__button--previous").prop("disabled",!0):o===t.slideCount?$(".banner__controls .controls__button--next").prop("disabled",!0):($(".banner__controls .controls__button--previous").prop("disabled",!1),$(".banner__controls .controls__button--next").prop("disabled",!1))}),$(".banner__slides").slick({dots:!1,arrows:!0,infinite:!1,autoplay:!0,autoplaySpeed:1e4,speed:500,pauseOnHover:!1,variableWidth:!0,appendArrows:$(".banner__controls"),prevArrow:$(".banner__controls .controls__button--previous"),nextArrow:$(".banner__controls .controls__button--next"),responsive:[{breakpoint:1520,settings:{dots:!0,arrows:!1,variableWidth:!1}}]}),$(".clients__list").slick({dots:!0,arrows:!1,infinite:!0,autoplay:!0,autoplaySpeed:1e4,speed:500,pauseOnHover:!1,slidesToShow:4,variableWidth:!0,centerMode:!0,responsive:[{breakpoint:480,settings:{slidesToShow:1,centerMode:!1}},{breakpoint:700,settings:{slidesToShow:2,centerMode:!1}},{breakpoint:940,settings:{slidesToShow:3,centerMode:!1}},{breakpoint:1200,settings:{centerMode:!1}}]}),$(window).on("load resize",function(){1520<=$(document).width()?$(".news__notes.slick-initialized").slick("unslick"):document.querySelector(".news__notes").classList.contains("slick-initialized")||$(".news__notes").slick({dots:!0,arrows:!1,infinite:!1,adaptiveHeight:!0})}),$(window).scroll(function(){1520<=$(document).width()&&(0!==$(this).scrollTop()?$(".upward").fadeIn():$(".upward").fadeOut())}),$(".upward").click(function(){$("body,html").animate({scrollTop:0},500)}),$(".industry .slider__items").on("init reInit afterChange",function(e,t,s){var o=(s||0)+1;$(".industry__controls .controls__number--active").text("0"+o),$(".industry__controls .controls__number--last").text("0"+t.slideCount),$(".industry__controls .controls__timeline").css({width:"0"}).stop().animate({width:"100%"},1e4),1===o?$(".industry__controls .controls__button--previous").prop("disabled",!0):o===t.slideCount?$(".industry__controls .controls__button--next").prop("disabled",!0):($(".industry__controls .controls__button--previous").prop("disabled",!1),$(".industry__controls .controls__button--next").prop("disabled",!1))}),$(".industry .slider__items").slick({dots:!1,arrows:!0,infinite:!1,autoplay:!0,autoplaySpeed:1e4,slidesToShow:1,speed:500,pauseOnHover:!1,variableWidth:!0,draggable:!1,appendArrows:$(".industry__controls"),prevArrow:$(".industry__controls .controls__button--previous"),nextArrow:$(".industry__controls .controls__button--next"),responsive:[{breakpoint:530,settings:{draggable:!0}},{breakpoint:790,settings:{draggable:!0}}]}),$(".projects .slider__items").slick({dots:!1,arrows:!0,infinite:!0,autoplay:!0,autoplaySpeed:1e4,pauseOnHover:!1,speed:500,slidesToShow:1,variableWidth:!0,draggable:!1,appendArrows:$(".projects__controls"),prevArrow:$(".projects__controls .controls__button--previous"),nextArrow:$(".projects__controls .controls__button--next")})});